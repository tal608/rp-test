@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

/* Dark mode via class (manual toggle) */
:root.dark {
  --background: #0a0a0a;
  --foreground: #ededed;
}

/* Dark mode via system preference (fallback when no class set) */
@media (prefers-color-scheme: dark) {
  :root:not(.light):not(.dark) {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-geist-sans), system-ui, -apple-system, sans-serif;
}

/* Performance: Defer rendering of below-fold content */
.content-visibility-auto {
  content-visibility: auto;
  contain-intrinsic-size: auto 500px;
}

@keyframes marquee {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

@keyframes marquee-reverse {
  0% { transform: translateX(-50%); }
  100% { transform: translateX(0); }
}

.animate-marquee {
  animation: marquee 40s linear infinite;
}

.animate-marquee-reverse {
  animation: marquee-reverse 40s linear infinite;
}

/* Remove old marquee definitions if present to avoid conflicts */

.pause-on-hover:hover .animate-marquee,
.pause-on-hover:focus-within .animate-marquee,
.pause-on-hover:hover .animate-marquee-reverse,
.pause-on-hover:focus-within .animate-marquee-reverse {
  animation-play-state: paused;
}

@keyframes blob {
  0% { transform: translate(0px, 0px) scale(1); }
  33% { transform: translate(30px, -50px) scale(1.1); }
  66% { transform: translate(-20px, 20px) scale(0.9); }
  100% { transform: translate(0px, 0px) scale(1); }
}

@keyframes blob-1 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(20px, -30px) scale(1.1); }
  50% { transform: translate(-20px, 20px) scale(0.9); }
  75% { transform: translate(20px, 20px) scale(1.05); }
}

@keyframes blob-2 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  25% { transform: translate(-20px, 20px) scale(1.1); }
  50% { transform: translate(20px, -20px) scale(0.9); }
  75% { transform: translate(-20px, -20px) scale(1.05); }
}

@keyframes blob-3 {
  0%, 100% { transform: translate(0, 0) scale(1); }
  33% { transform: translate(30px, 30px) scale(1.2); }
  66% { transform: translate(-30px, -30px) scale(0.8); }
}

.animate-blob-1 {
  animation: blob-1 10s infinite ease-in-out alternate;
}

.animate-blob-2 {
  animation: blob-2 12s infinite ease-in-out alternate;
}

.animate-blob-3 {
  animation: blob-3 8s infinite ease-in-out alternate;
}

@keyframes fadeInUp {
  from {
    opacity: 0;
    transform: translateY(30px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes smoothReveal {
  from {
    opacity: 0;
    transform: scale(0.96) translateY(10px);
    filter: blur(4px);
  }
  to {
    opacity: 1;
    transform: scale(1) translateY(0);
    filter: blur(0);
  }
}

@keyframes simpleFadeIn {
  0% {
    opacity: 0;
    min-height: 0;
  }
  100% {
    opacity: 1;
  }
}

@keyframes scaleIn {
  0% {
    opacity: 0;
    transform: scale(0.9);
  }
  100% {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes slideUp {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-fadeIn {
  animation: simpleFadeIn 0.3s ease-out forwards;
}

.animate-scaleIn {
  animation: scaleIn 0.4s cubic-bezier(0.16, 1, 0.3, 1) forwards;
}

.animate-slideUp {
  animation: slideUp 0.5s ease-out 0.2s forwards;
  opacity: 0; /* Start invisible for delay */
}

@keyframes tailWag {
  0% {
    transform: rotate(0deg);
  }
  12.5% {
    transform: rotate(2deg);
  }
  25% {
    transform: rotate(0deg);
  }
  37.5% {
    transform: rotate(-2deg);
  }
  50% {
    transform: rotate(0deg);
  }
  62.5% {
    transform: rotate(2deg);
  }
  75% {
    transform: rotate(0deg);
  }
  87.5% {
    transform: rotate(-2deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

@keyframes glowPulse {
  0%, 100% {
    filter: drop-shadow(0 0 20px rgba(253, 224, 71, 0.4));
  }
  50% {
    filter: drop-shadow(0 0 40px rgba(253, 224, 71, 0.8));
  }
}

@keyframes slideIn {
  from {
    transform: translateX(-100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes pulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.05); }
}

@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

@keyframes gradient-shift {
  0% { background-position: 0% 50%; }
  15% { background-position: 20% 50%; }
  30% { background-position: 45% 50%; }
  45% { background-position: 60% 50%; }
  60% { background-position: 75% 50%; }
  75% { background-position: 90% 50%; }
  85% { background-position: 100% 50%; }
  100% { background-position: 0% 50%; }
}

@keyframes gradient-shift-random {
  0% { 
    background-position: 0% 50%;
  }
  10% { 
    background-position: 22% 50%;
  }
  25% { 
    background-position: 41% 50%;
  }
  38% { 
    background-position: 55% 50%;
  }
  52% { 
    background-position: 71% 50%;
  }
  68% { 
    background-position: 85% 50%;
  }
  82% { 
    background-position: 96% 50%;
  }
  95% { 
    background-position: 100% 50%;
  }
  100% { 
    background-position: 0% 50%;
  }
}

@keyframes float-slow {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.1;
  }
  50% {
    transform: translateY(-20px) rotate(5deg);
    opacity: 0.15;
  }
}

@keyframes float-medium {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.08;
  }
  50% {
    transform: translateY(-30px) rotate(-5deg);
    opacity: 0.12;
  }
}

@keyframes float-fast {
  0%, 100% {
    transform: translateY(0) rotate(0deg);
    opacity: 0.12;
  }
  50% {
    transform: translateY(-40px) rotate(8deg);
    opacity: 0.18;
  }
}

.animate-blob {
  animation: blob 7s infinite;
}

.animate-blob-delay-2 {
  animation: blob 7s infinite;
  animation-delay: 2s;
}

/* Optimized animations - only run when reduced motion is NOT preferred */
@media (prefers-reduced-motion: no-preference) {
  .animate-marquee {
    animation: marquee 40s linear infinite;
    will-change: transform;
  }

  .animate-marquee-reverse {
    animation: marquee-reverse 40s linear infinite;
    will-change: transform;
  }

  .animate-blob {
    will-change: transform;
  }

  .animate-blob-delay-2 {
    will-change: transform;
  }

  .animate-blob-1 {
    animation: blob-1 10s infinite ease-in-out alternate;
    will-change: transform;
  }

  .animate-blob-2 {
    animation: blob-2 12s infinite ease-in-out alternate;
    will-change: transform;
  }

  .animate-blob-3 {
    animation: blob-3 8s infinite ease-in-out alternate;
    will-change: transform;
  }
}

/* Fallback for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animate-marquee,
  .animate-marquee-reverse,
  .animate-blob,
  .animate-blob-delay-2,
  .animate-blob-1,
  .animate-blob-2,
  .animate-blob-3,
  .animate-pulse,
  .animate-shimmer,
  .animate-gradient-shift,
  .animate-gradient-shift-random,
  .animate-float-slow,
  .animate-float-medium,
  .animate-float-fast,
  .animate-fadeInUp,
  .animate-fadeInUp-delay-200,
  .animate-fadeInUp-delay-400,
  .animate-fadeInUp-delay-600,
  .animate-fadeInUp-delay-800,
  .animate-fadeInUp-delay-1000 {
    animation: none !important;
    transform: none !important;
    opacity: 1 !important;
  }
}

/* Optimized animations - only run when reduced motion is NOT preferred */
@media (prefers-reduced-motion: no-preference) {
  .animate-marquee {
    animation: marquee 40s linear infinite;
    will-change: transform;
  }

  .animate-marquee-reverse {
    animation: marquee-reverse 40s linear infinite;
    will-change: transform;
  }

  .animate-blob {
    will-change: transform;
  }

  .animate-blob-delay-2 {
    will-change: transform;
  }

  .animate-blob-1 {
    animation: blob-1 10s infinite ease-in-out alternate;
    will-change: transform;
  }

  .animate-blob-2 {
    animation: blob-2 12s infinite ease-in-out alternate;
    will-change: transform;
  }

  .animate-blob-3 {
    animation: blob-3 8s infinite ease-in-out alternate;
    will-change: transform;
  }
}

/* Fallback for reduced motion */
@media (prefers-reduced-motion: reduce) {
  .animate-marquee,
  .animate-marquee-reverse,
  .animate-blob,
  .animate-blob-delay-2,
  .animate-blob-1,
  .animate-blob-2,
  .animate-blob-3,
  .animate-pulse,
  .animate-shimmer,
  .animate-gradient-shift,
  .animate-gradient-shift-random,
  .animate-float-slow,
  .animate-float-medium,
  .animate-float-fast {
    animation: none !important;
    transform: none !important;
  }
}

.animate-fadeInUp {
  opacity: 1 !important;
  animation: simpleFadeIn 0.6s ease-out forwards;
}

.animate-fadeInUp-delay-200 {
  opacity: 1 !important;
  animation: simpleFadeIn 0.6s ease-out 0.15s forwards;
}

.animate-fadeInUp-delay-400 {
  opacity: 1 !important;
  animation: simpleFadeIn 0.6s ease-out 0.3s forwards;
}

.animate-fadeInUp-delay-600 {
  opacity: 1 !important;
  animation: simpleFadeIn 0.6s ease-out 0.45s forwards;
}

.animate-fadeInUp-delay-800 {
  opacity: 1 !important;
  animation: simpleFadeIn 0.6s ease-out 0.6s forwards;
}

.animate-fadeInUp-delay-1000 {
  opacity: 1 !important;
  animation: simpleFadeIn 0.6s ease-out 0.75s forwards;
}

/* Hero header text - ensure immediate visibility for LCP */
/* Tail wag animation only runs after text is visible */
h1 .animate-fadeInUp,
h1 span.animate-fadeInUp {
  opacity: 1; /* Ensure visible immediately */
  animation: tailWag 0.5s ease-in-out 0.3s 6;
}

h1 .animate-fadeInUp-delay-200,
h1 span.animate-fadeInUp-delay-200 {
  opacity: 1;
  animation: tailWag 0.5s ease-in-out 0.5s 6;
}

h1 .animate-fadeInUp-delay-400,
h1 span.animate-fadeInUp-delay-400 {
  opacity: 1;
  animation: tailWag 0.5s ease-in-out 0.7s 6;
}

h1 .animate-fadeInUp-delay-600,
h1 span.animate-fadeInUp-delay-600 {
  opacity: 1;
  animation: tailWag 0.5s ease-in-out 0.9s 6;
}

h1 .animate-fadeInUp-delay-800,
h1 span.animate-fadeInUp-delay-800 {
  opacity: 1;
  animation: tailWag 0.5s ease-in-out 1.1s 6;
}

.animate-slideIn {
  animation: slideIn 0.5s ease-out;
}

.animate-pulse {
  animation: pulse 2s infinite;
}

.animate-shimmer {
  animation: shimmer 3s ease-in-out infinite;
}

.animate-gradient-shift {
  animation: gradient-shift 4.5s ease-in-out infinite;
  animation-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
}

.animate-gradient-shift-random {
  animation: gradient-shift-random 7.3s cubic-bezier(0.42, 0, 0.58, 1) infinite;
  animation-delay: 0.4s;
}

.animate-float-slow {
  animation: float-slow 8s ease-in-out infinite;
}

.animate-float-medium {
  animation: float-medium 6s ease-in-out infinite;
}

.animate-float-fast {
  animation: float-fast 5s ease-in-out infinite;
}

/* Accessibility: Screen reader only class */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

.focus\:not-sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: inherit;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

/* Article content styling for FAQ pages */
.article-content {
  font-size: 1.125rem;
  line-height: 1.75rem;
}

.article-content p {
  font-size: 1.125rem;
  line-height: 1.75rem;
  margin-bottom: 1.25rem;
  color: #374151;
}

.article-content h3 {
  font-size: 1.5rem;
  font-weight: 700;
  color: #111827;
  margin-top: 2rem;
  margin-bottom: 1rem;
  line-height: 1.3;
}

.article-content ul {
  margin-top: 1rem;
  margin-bottom: 1.5rem;
  padding-left: 1.5rem;
  list-style-type: disc;
}

.article-content li {
  margin-bottom: 0.75rem;
  line-height: 1.75rem;
  color: #374151;
  padding-left: 0.25rem;
}

.article-content strong {
  font-weight: 600;
  color: #111827;
}

.article-content li strong {
  font-weight: 600;
  color: #111827;
}

/* Contextual link styling in article content */
.article-content a {
  color: #059669;
  font-weight: 500;
  text-decoration: underline;
  text-decoration-color: #059669;
  text-underline-offset: 2px;
  transition: all 0.2s ease;
}

.article-content a:hover {
  color: #047857;
  text-decoration-color: #047857;
}

/* Dark mode article content */
:root.dark .article-content p,
:root.dark .article-content li {
  color: #d1d5db;
}

:root.dark .article-content h3,
:root.dark .article-content strong,
:root.dark .article-content li strong {
  color: #f3f4f6;
}

:root.dark .article-content a {
  color: #34d399;
  text-decoration-color: #34d399;
}

:root.dark .article-content a:hover {
  color: #6ee7b7;
  text-decoration-color: #6ee7b7;
}

/* ============================================
   DARK MODE GLOBAL OVERRIDES
   Uses high specificity to override Tailwind v4
   ============================================ */

/* Body background in dark mode */
html.dark body {
  background-color: #0f172a !important;
  color: #e2e8f0 !important;
}

/* Override ALL white backgrounds using :where for Tailwind compatibility */
html.dark .bg-white,
html.dark [class*="bg-white"] {
  background-color: #1e293b !important;
}

html.dark .bg-gray-50,
html.dark [class*="bg-gray-50"] {
  background-color: #0f172a !important;
}

html.dark .bg-gray-100,
html.dark [class*="bg-gray-100"] {
  background-color: #1e293b !important;
}

html.dark .bg-gray-200,
html.dark [class*="bg-gray-200"] {
  background-color: #334155 !important;
}

/* Text color overrides */
html.dark .text-gray-700,
html.dark [class*="text-gray-700"] {
  color: #cbd5e1 !important;
}

html.dark .text-gray-600,
html.dark [class*="text-gray-600"] {
  color: #94a3b8 !important;
}

html.dark .text-gray-800,
html.dark [class*="text-gray-800"] {
  color: #e2e8f0 !important;
}

html.dark .text-gray-900,
html.dark [class*="text-gray-900"],
html.dark .text-black {
  color: #f1f5f9 !important;
}

html.dark .text-gray-500,
html.dark [class*="text-gray-500"] {
  color: #64748b !important;
}

html.dark .text-gray-400,
html.dark [class*="text-gray-400"] {
  color: #94a3b8 !important;
}

/* Border overrides */
html.dark .border-gray-100,
html.dark [class*="border-gray-100"] {
  border-color: #334155 !important;
}

html.dark .border-gray-200,
html.dark [class*="border-gray-200"] {
  border-color: #475569 !important;
}

html.dark .border-gray-300,
html.dark [class*="border-gray-300"] {
  border-color: #475569 !important;
}

/* Shadow adjustments for dark mode */
html.dark .shadow-lg,
html.dark .shadow-xl,
html.dark .shadow-2xl {
  --tw-shadow-color: rgba(0, 0, 0, 0.4) !important;
  box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.3), 0 4px 6px -4px rgba(0, 0, 0, 0.2) !important;
}

/* Header glassmorphism */
html.dark .glassmorphism {
  background: rgba(15, 23, 42, 0.95) !important;
  border-bottom: 1px solid rgba(51, 65, 85, 0.5) !important;
}

/* Form inputs */
html.dark input,
html.dark textarea,
html.dark select {
  background-color: #1e293b !important;
  border-color: #475569 !important;
  color: #e2e8f0 !important;
}

html.dark input::placeholder,
html.dark textarea::placeholder {
  color: #64748b !important;
}

/* Footer */
html.dark footer {
  background-color: #0f172a !important;
}

/* Hover states */
html.dark .hover\:bg-gray-50:hover,
html.dark .hover\:bg-gray-100:hover {
  background-color: #334155 !important;
}

/* Gradient adjustments */
html.dark .from-gray-50 {
  --tw-gradient-from: #1e293b !important;
}

html.dark .to-gray-50 {
  --tw-gradient-to: #1e293b !important;
}

html.dark .from-white {
  --tw-gradient-from: #1e293b !important;
}

html.dark .to-white {
  --tw-gradient-to: #1e293b !important;
}

/* Cards with rounded corners in dark mode */
html.dark .rounded-2xl.bg-white,
html.dark .rounded-xl.bg-white,
html.dark .rounded-lg.bg-white {
  background-color: #1e293b !important;
  border: 1px solid #334155 !important;
}
